{% if computers.length == 0 %}
<div class="empty-state">
  <p>No computers registered yet.</p>
  <p class="text-muted">Generate a token and install an agent on your Linux machines to get started.</p>
  <a href="/tokens" class="btn btn-primary">Manage Tokens</a>
</div>
{% else %}
<table class="table">
  <thead>
    <tr>
      <th>Hostname</th>
      <th>Status</th>
      <th>Screenshot</th>
    </tr>
  </thead>
  <tbody>
    {% for computer in computers %}
    <tr class="{% if computer.status == 'offline' %}row-offline{% endif %}">
      <td>
        <strong><a href="/computers/{{ computer.id }}">{{ computer.hostname }}</a></strong>
      </td>
      <td>
        <span class="status-dot status-{{ computer.status }}"></span>
        {% if computer.status == 'online' %}
          {{ computer.current_user if computer.current_user else 'Online' }}
        {% else %}
          {{ computer.status_label }}
        {% endif %}
      </td>
      <td>
        {% if computer.status == 'online' %}
        <a href="/computers/{{ computer.id }}">
          <img
            src="/computers/{{ computer.id }}/screenshot"
            alt="Screenshot"
            style="max-width: 200px; max-height: 120px; border-radius: 4px; border: 1px solid #ddd;"
            onerror="this.parentElement.innerHTML='<span class=\'text-muted\'>â€”</span>'"
          >
        </a>
        {% else %}
        <span class="text-muted">â€”</span>
        {% endif %}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endif %}
